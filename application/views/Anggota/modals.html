<!-- Bootstrap Modal -->

<!-- Modal for add contact -->
<div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="contactModal">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="contactModalLabel">Tambah Kontak</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal" id="formKontak">
					<div class="form-group">
						<label class="col-md-4 control-label" for="inputKontak">Detil kontak</label>
						<div class="col-md-8">
							<input name="detil_kontak" class="form-control" id="inputKontak" required="" type="text" placeholder="Detil kontak" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
					<label class="col-md-4 control-label" for="inputJenisKontak">Jenis kontak</label>					
					<div class="col-md-8">
						<div class="radio">
							<label>
								<input name="jenis_kontak" required="" type="radio" value="H">
								No. Handphone	
							</label>
						</div>
							
						<div class="radio">
							<label>
								<input name="jenis_kontak" required="" type="radio" value="E">
									Email
							</label>
						</div>
					</div>
					</div>

				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" id="close_contact_modal">Close</button>
				<button type="button" class="btn btn-primary" id="btnAddContactModal">Tambah Kontak</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal for add riwayat pendidikan -->
<div class="modal fade" id="riwayatPendidikanModal" tabindex="-1" role="dialog" aria-labelledby="riwayatPendidikanModal">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="riwayatPendidikanModalLabel">Tambah Riwayat Pendidikan</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal" id="formRiwayatPendidikan">
					<div class="form-group">
						<label class="col-md-4 control-label" for="inputJenjangPendidikan">Jenjang Pendidikan</label>
						<div class="col-md-7">
							<div class="radio">
								<label>
									<input name="jenjang_pendidikan" required="" type="radio" value="D">
									SD
								</label>
							</div>
							
							<div class="radio">
								<label>
									<input name="jenjang_pendidikan" required="" type="radio" value="P">
									SMP
								</label>
							</div>

							<div class="radio">
								<label>
									<input name="jenjang_pendidikan" required="" type="radio" value="A">
									SMA / SMK
								</label>
							</div>

							<div class="radio">
								<label>
									<input name="jenjang_pendidikan" required="" type="radio" value="T">
									Perguruan Tinggi
								</label>
							</div>
							<br>
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputNamaInstitusi">Nama Institusi</label>
						<div class="col-md-7">
							<input name="nama_institusi" class="form-control" id="inputNamaInstitusi" required="" type="text" placeholder="Nama Institusi" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputTahunMasuk">Tahun Masuk</label>
						<div class="col-md-7">
							<input name="tahun_masuk" class="form-control" id="inputTahunMasuk" required="" type="text" placeholder="Tahun masuk" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputTahunLulus">Tahun Lulus</label>
						<div class="col-md-7">
							<input name="tahun_lulus" class="form-control" id="inputTahunLulus" required="" type="text" placeholder="Tahun lulus" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputBidang">Bidang</label>
						<div class="col-md-7">
							<input name="bidang" class="form-control" id="inputBidang" type="text" placeholder="Bidang" value="" autocomplete="off">
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" id="close_contact_modal">Close</button>
				<button type="button" class="btn btn-primary" id="btnAddRiwayatPendidikanModal">Tambah Riwayat</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal for add riwayat organisasi -->
<div class="modal fade" id="riwayatOrganisasiModal" tabindex="-1" role="dialog" aria-labelledby="riwayatOrganisasiModal">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="riwayatOrganisasiModalLabel">Tambah Riwayat Organisasi</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal" id="formRiwayatOrganisasi">
					<div class="form-group">
						<label class="col-md-4 control-label" for="inputNamaOrganisasi">Nama Organisasi</label>
						<div class="col-md-7">
							<input name="nama_org" class="form-control" id="inputNamaOrganisasi" required="" type="text" placeholder="Nama Organisasi" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputJabatanOrganisasi">Jabatan Organisasi</label>
						<div class="col-md-7">
							<input name="jabatan_org" class="form-control" id="inputJabatanOrganisasi" required="" type="text" placeholder="Jabatan Organisasi" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputTahunMulaiOrganisasi">Tahun Mulai</label>
						<div class="col-md-7">
							<input name="tahun_mulai_org" class="form-control" id="inputTahunMulaiOrganisasi" required="" type="text" placeholder="Tahun Mulai" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputJabatanOrganisasi">Tahun Selesai</label>
						<div class="col-md-7">
							<input name="tahun_selesai_org" class="form-control" id="inputTahunSelesaiOrganisasi" required="" type="text" placeholder="Tahun Selesai" value="" autocomplete="off">
						</div>
					</div>

					<div class="form-group">
						<label class="col-md-4 control-label" for="inputOrgKemahasiswaan">Organisasi Kemahasiswaan</label>
						<div class="col-md-7">
							<div class="radio">
								<label>
									<input name="org_kemahasiswaan" required="" type="radio" value=1>
									Ya
								</label>
							</div>
							
							<div class="radio">
								<label>
									<input name="org_kemahasiswaan" required="" type="radio" value=0>
									Tidak
								</label>
							</div>
							<br>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" id="close_riwayatOrganisasi_modal">Close</button>
				<button type="button" class="btn btn-primary" id="btnAddRiwayatOrganisasiModal">Tambah Riwayat</button>
			</div>
		</div>
	</div>
</div>



<!-- Ajax Script -->
<script>
$(document).ready(function() {
	$('#btnAddContact').click(function(){
		$('#contactModal').modal('show'); 
	});

	$('#btnAddRiwayatPendidikan').click(function(){
		$('#riwayatPendidikanModal').modal('show');
	});

	$('#btnAddRiwayatOrganisasi').click(function(){
		$('#riwayatOrganisasiModal').modal('show'); 
	});

	$('#btnAddContactModal').click(function(){
		var form = document.forms['formKontak'];
		var dataString = $('#formKontak').serialize();
		$.ajax({
            type: "POST",
            url: "<?php echo site_url('anggota/add_contact') ; ?>",
            data: dataString,
            dataType: "JSON",
            cache: false,
            success: function(json) {
            	reloadTableKontak();
            	$('#formKontak')[0].reset();
            } 
        });

	});

	$('#btnAddRiwayatPendidikanModal').click(function(){
		var form = document.forms['formRiwayatPendidikan'];
		var dataString = $('#formRiwayatPendidikan').serialize();
		$.ajax({
            type: "POST",
            url: "<?php echo site_url('anggota/add_riwayat_pendidikan') ; ?>",
            data: dataString,
            dataType: "JSON",
            cache: false,
            success: function(json) {
            	reloadTableRiwayatPendidikan();
            	$('#formRiwayatPendidikan')[0].reset();
            } 
        });

	});

	$('#btnAddRiwayatOrganisasiModal').click(function(){
		var form = document.forms['formRiwayatOrganisasi'];
		var dataString = $('#formRiwayatOrganisasi').serialize();
		$.ajax({
            type: "POST",
            url: "<?php echo site_url('anggota/add_riwayat_organisasi') ; ?>",
            data: dataString,
            dataType: "JSON",
            cache: false,
            success: function(json) {
            	reloadTableRiwayatOrganisasi();
            	$('#formRiwayatOrganisasi')[0].reset();
            } 
        });

	});

});

function reloadTableKontak(){
	$.ajax({
		type: "POST",
		url: "<?php echo site_url('anggota/get_contact_ajax') ; ?>",
		cache: false,
		success: function(html) {
        	$("#tableBodyKontak").html(html);
        	$('#contactModal').modal('hide'); 
        } 
    });
}

function reloadTableRiwayatPendidikan(){
	$.ajax({
		type: "POST",
		url: "<?php echo site_url('anggota/get_riwayat_pendidikan_ajax') ; ?>",
		cache: false,
		success: function(html) {
        	$("#tableBodyRiwayatPendidikan").html(html);
        	$('#riwayatPendidikanModal').modal('hide'); 
        } 
    });
}

function reloadTableRiwayatOrganisasi(){
	$.ajax({
		type: "POST",
		url: "<?php echo site_url('anggota/get_riwayat_org_ajax') ; ?>",
		cache: false,
		success: function(html) {
        	$("#tableBodyRiwayatOrganisasi").html(html);
        	$('#riwayatOrganisasiModal').modal('hide'); 
        } 
    });
}

</script>